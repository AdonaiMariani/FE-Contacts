<!-- CON AVATAR Y BOTONES ORDENADOS -->
<div class="contact-card" [ngClass]="{'favorite-contact-card': contact.isFavorite}" (click)="openDetails()">
  <div class="contact-header">
    <div class="contact-avatar" [ngStyle]="{ 'background-color': getAvatarColor(contact.name) }">
      <span class="avatar-placeholder">{{ contact.name.charAt(0).toUpperCase() }}</span>
    </div>

    <div class="contact-info">
      <h3 class="contact-name">
        {{ contact.name }}
        <button class="favorite-button" (click)="toggleFavorite()" (click)="$event.stopPropagation()">
          <fa-icon [icon]="contact.isFavorite ? faStarSolid : faStarRegular"></fa-icon>
        </button>
      </h3>
    </div>

    <div class="contact-actions" (click)="$event.stopPropagation()">
      <div class="primary-actions">
        <button class="call-button" *ngIf="contact.phone" (click)="callContact()">
          <fa-icon [icon]="faPhone"></fa-icon>
        </button>
        <button class="whatsapp-button" *ngIf="contact.phone" (click)="sendWhatsApp()">
          <fa-icon [icon]="faWhatsapp"></fa-icon>
        </button>
        <button class="email-button" *ngIf="contact.email" (click)="sendEmail()">
          <fa-icon [icon]="faEnvelope"></fa-icon>
        </button>
        <button class="map-button" *ngIf="contact.address" (click)="openMaps()">
          <fa-icon [icon]="faMapMarkerAlt"></fa-icon>
        </button>
      </div>
      <div class="secondary-actions">
        <button class="edit-button" (click)="onEdit()">
          <fa-icon [icon]="faEdit"></fa-icon>
        </button>
        <button class="delete-button" (click)="openDeleteModal()">
          <fa-icon [icon]="faTrash"></fa-icon>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- <div class="contact-card" [ngClass]="{'favorite-contact-card': contact.isFavorite}" (click)="openDetails()">
  
  <div class="contact-header">
    
    <div
      class="contact-avatar"
      [ngStyle]="{ 'background-color': getAvatarColor(contact.name) }"
    >
      <span class="avatar-placeholder">{{ contact.name.charAt(0).toUpperCase() }}</span>
    </div>

    
    <div class="contact-info">
      <h3 class="contact-name">
        {{ contact.name }}
        <button class="favorite-button" (click)="toggleFavorite()" (click)="$event.stopPropagation()">
          {{ contact.isFavorite ? '★' : '☆' }}
        </button>
      </h3>
    </div>

    
    <div class="contact-actions" (click)="$event.stopPropagation()">
      <div class="primary-actions">
        <button class="call-button" *ngIf="contact.phone" (click)="callContact()">📞</button>
        <button class="whatsapp-button" *ngIf="contact.phone" (click)="sendWhatsApp()">💬</button>
        <button class="email-button" *ngIf="contact.email" (click)="sendEmail()">✉️</button>
        <button class="map-button" *ngIf="contact.address" (click)="openMaps()">📍</button>
      </div>
      <div class="secondary-actions">
        <button class="edit-button" (click)="onEdit()">✏️</button>
        <button class="delete-button" (click)="openDeleteModal()">🗑️</button>
      </div>
    </div>
  </div> -->
<!-- </div> -->

  <!-- Modal para los detalles del contacto -->
  <div class="modal" *ngIf="showDetails">
    <div class="modal-content">
      <span class="close-button" (click)="closeDetails($event)">&times;</span>
      <h3>{{ contact.name }}</h3>
      <p><strong>Phone:</strong> {{ contact.phone }}</p>
      <p><strong>Email:</strong> {{ contact.email }}</p>
      <p>
        <strong>Address:</strong>
        <a [href]="'https://www.google.com/maps/search/?api=1&query=' + contact.address" target="_blank">
          {{ contact.address }}
        </a>
      </p>
    </div>
  </div>

  <!-- Modal de confirmación de eliminación -->
  <div class="modal" *ngIf="showDeleteModal">
    <div class="modal-content">
      <h3>Confirm Deletion</h3>
      <p>Are you sure you want to delete this contact?</p>
      <button (click)="onDelete(); $event.stopPropagation()">Yes, delete</button>
      <button (click)="closeDeleteModal(); $event.stopPropagation()">Cancel</button>
    </div>
  </div>




<!-- SIN AVATAR Y BOTONES DESORDENADOS -->
<!-- <div class="contact-card" [ngClass]="{'favorite-contact-card': contact.isFavorite}" (click)="openDetails()">
  <div class="contact-header">
    <h3>{{ contact.name }}</h3>
    <div class="contact-actions" (click)="$event.stopPropagation()">
      <button class="edit-button" (click)="onEdit()">✏️</button>
      <button class="delete-button" (click)="openDeleteModal()">🗑️</button>
      <button class="favorite-button" (click)="toggleFavorite()">
        {{ contact.isFavorite ? '★' : '☆' }}
      </button>
      <button class="call-button" (click)="callContact()">📞</button>
      <button class="whatsapp-button" (click)="sendWhatsApp()">💬</button>
      <button *ngIf="contact.email" class="email-button" (click)="sendEmail()">✉️</button>
      <button *ngIf="contact.address" class="map-button" (click)="openMaps()">📍</button>
    </div>
  </div> -->

  <!-- Modal para los detalles del contacto -->
  <!-- <div class="modal" *ngIf="showDetails">
    <div class="modal-content">
      <span class="close-button" (click)="closeDetails($event)">&times;</span>
      <h3>{{ contact.name }}</h3>
      <p><strong>Phone:</strong> {{ contact.phone }}</p>
      <p><strong>Email:</strong> {{ contact.email }}</p>
      <p>
        <strong>Address:</strong>
        <a [href]="'https://www.google.com/maps/search/?api=1&query=' + contact.address" target="_blank">
          {{ contact.address }}
        </a>
      </p>
    </div>
  </div> -->

    <!-- Modal de confirmación de eliminación -->
    <!-- <div class="modal" *ngIf="showDeleteModal">
      <div class="modal-content">
        <h3>Confirm Deletion</h3>
        <p>Are you sure you want to delete this contact?</p>
        <button (click)="onDelete(); $event.stopPropagation()">Yes, delete</button>
        <button (click)="closeDeleteModal(); $event.stopPropagation()">Cancel</button>
      </div>
    </div>
</div> -->


<!-- <div class="contact-card" [ngClass]="{'favorite-contact-card': contact.isFavorite}" >
  <div class="contact-header">
    <h3 (click)="openDetails()">{{ contact.name }}</h3>
    <div class="contact-actions">
      <button class="edit-button" (click)="onEdit()">✏️</button>
      <button class="delete-button" (click)="onDelete()">🗑️</button>
      <button class="favorite-button" (click)="toggleFavorite()">
        {{ contact.isFavorite ? '★' : '☆' }}
      </button>
      <button class="call-button" (click)="callContact()">📞</button>
      <button class="whatsapp-button" (click)="sendWhatsApp()">💬</button>
      <button class="email-button" (click)="sendEmail()">✉️</button>
      <button class="map-button" (click)="openMaps()">📍</button>
    </div>
  </div>

  <!- Modal para los detalles del contacto -->
  <!-- <div class="contact-details-modal" *ngIf="showDetails">
    <div class="modal-content">
      <span class="close-button" (click)="closeDetails()">&times;</span>
      <h3>{{ contact.name }}</h3>
      <p><strong>Phone:</strong> {{ contact.phone }}</p>
      <p><strong>Email:</strong> {{ contact.email }}</p>
      <p>
        <strong>Address:</strong>
        <a [href]="'https://www.google.com/maps/search/?api=1&query=' + contact.address" target="_blank">
          {{ contact.address }}
        </a>
      </p>
    </div>
  </div>
</div> --> 

<!-- <div class="contact-card">
  <div class="contact-header">
    <h3 (click)="openDetails()">{{ contact.name }}</h3>
    <div class="contact-actions">
      <button class="edit-button" (click)="onEdit()">✏️</button>
      <button class="delete-button" (click)="onDelete()">🗑️</button>
      <button class="favorite-button" (click)="toggleFavorite()">
        {{ contact.isFavorite ? '★' : '☆' }}
      </button>
      <button class="call-button" (click)="callContact()">📞</button>
      <button class="whatsapp-button" (click)="sendWhatsApp()">💬</button>
      <button class="email-button" (click)="sendEmail()">✉️</button>
      <button class="map-button" (click)="openMaps()">📍</button>
    </div>
  </div>

  <!- Modal para los detalles del contacto -->
  <!-- <div class="contact-details-modal" *ngIf="showDetails">
    <div class="modal-content">
      <span class="close-button" (click)="closeDetails()">&times;</span>
      <h3>{{ contact.name }}</h3>
      <p><strong>Phone:</strong> {{ contact.phone }}</p>
      <p><strong>Email:</strong> {{ contact.email }}</p>
      <p>
        <strong>Address:</strong>
        <a [href]="'https://www.google.com/maps/search/?api=1&query=' + contact.address" target="_blank">
          {{ contact.address }}
        </a>
      </p>
    </div>
  </div>
</div> -->

 


<!-- <div class="contact-card">
    <div class="contact-details">
      <h3>{{ contact.name }}</h3>
      <p>Phone: {{ contact.phone }}</p>
      <p>Email: {{ contact.email }}</p>
      <p>
        Address: 
        <a [href]="'https://www.google.com/maps/search/?api=1&query=' + contact.address" target="_blank">
          {{ contact.address }}
        </a>
      </p>
    </div>
    <div class="contact-actions">
        <button (click)="onEdit()">Edit</button>
        <button (click)="onDelete()">Delete</button>
      <button class="favorite-button" (click)="toggleFavorite()">
        <img [src]="contact.isFavorite ? 'assets/icons/star-filled.svg' : 'assets/icons/star-outline.svg'" alt="Favorite">
      </button>
      <button (click)="callContact()">Call</button>
      <button (click)="sendWhatsApp()">WhatsApp</button>
      <button (click)="sendEmail()">Email</button>
    </div>
  </div> -->
  
  <!-- <div class="contact-card">
    <div class="contact-details">
      <h3>{{ contact.name }}</h3>
      <p>Phone: {{ contact.phone }}</p>
      <p>Email: {{ contact.email }}</p>
      <p>
        Address: 
        <a [href]="'https://www.google.com/maps/search/?api=1&query=' + contact.address" target="_blank">
          {{ contact.address }}
        </a>
      </p>
    </div>
    <div class="contact-actions">
        <button (click)="onEdit()">Edit</button>
        <button (click)="onDelete()">Delete</button>
        <button class="favorite-button" (click)="toggleFavorite()">
          <span>{{ contact.isFavorite ? '★' : '☆' }}</span>
        </button>    
        <button (click)="callContact()">Call</button>
        <button (click)="sendWhatsApp()">WhatsApp</button>
        <button (click)="sendEmail()">Email</button>
    </div>
</div> -->
